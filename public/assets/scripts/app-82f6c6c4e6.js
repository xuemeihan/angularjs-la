function ScheduleController(){}(function(){this.ngApp=angular.module("app",["ngSanitize","ui.router","angularMoment","ngAnimate","angular-carousel"])}).call(this),function(){angular.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,r){r.html5Mode(!1),r.hashPrefix("!"),e.otherwise("/xxl/all")}])}.call(this),function(){angular.module("app").run(function(){})}.call(this),angular.module("app").constant("ENV","dev").constant("_",window._),angular.module("app").constant("ENV","___env_name").constant("_",window._),angular.module("app").service("Repeater",["$interval",function(t){var e={};return{run:function(r,i,n,o){o===!0&&i(),angular.isUndefined(e[r])&&(e[r]=t(i,n))},stop:function(r){angular.isDefined(e[r])&&(t.cancel(e[r]),e[r]=void 0)}}}]),angular.module("app").service("Helpers",function(){return{generateRandomString:function(t){t=t||10;for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",i=0;t>i;i++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}}}),angular.module("app").component("schedule",{templateUrl:"components/schedule/schedule.html",controller:ScheduleController,transclude:{scheduleHead:"?scheduleHead",scheduleList:"?scheduleList"},bindings:{data:"<"}}),function(){var t=[].slice;this.BaseController=function(){function e(){var e,r,i,n,o,s,l,a;for(e=1<=arguments.length?t.call(arguments,0):[],l=this.constructor.$inject,n=i=0,s=l.length;s>i;n=++i)o=l[n],this[o]=e[n];a=this.constructor.prototype;for(o in a)r=a[o],"function"==typeof r&&"constructor"!==o&&"initialize"!==o&&"_"!==o[0]&&(this[o]=("function"==typeof r.bind?r.bind(this):void 0)||_.bind(r,this));"function"==typeof this.initialize&&this.initialize()}return e.register=function(t,e,r){var i;return null==t&&(t=this.name||(null!=(i=this.toString().match(/function\s*(.*?)\(/))?i[1]:void 0)),e=null!=e?e:"controller",(r||ngApp)[e](t,this)},e.inject=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.$inject=e},e}()}.call(this),function(){"use strict";var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.initMaps=e(this.initMaps,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("DashboardXxlScreen7Controller"),i.inject("$sce"),i.prototype.initMaps=function(){var t,e;return e=function(){var e,r,i,n,o,s,l,a,c,u,p;return c=new google.maps.LatLng(34.090698,-118.386002),u=new google.maps.LatLng(34.072296633757,-118.04444519392),a={zoom:7,center:c},l=new google.maps.Map(document.getElementById("map-canvas"),a),i=new google.maps.DirectionsService,r=new google.maps.DirectionsRenderer({map:l,suppressMarkers:!0}),n=new google.maps.InfoWindow({content:"Origin"}),n.setPosition(c),n.open(l),o=new google.maps.InfoWindow({content:"Destination"}),o.setPosition(u),o.open(l),e=[{lat:34.024209511091,lng:-118.37224334356},{lat:34.026715991954,lng:-118.37210597861},{lat:34.072129216705,lng:-118.07242680984},{lat:34.072364668923,lng:-118.05290514579},{lat:34.072442972067,lng:-118.04969557553},{lat:34.072468146184,lng:-118.04860590445},{lat:34.072644178382,lng:-118.04818333975},{lat:34.072645539774,lng:-118.04464020238}],s={},e.forEach(function(t,e){return s[e]=new google.maps.InfoWindow({content:"Lat:"+t.lat+" Lng:"+t.lng}),s[e].setPosition(new google.maps.LatLng(t.lat,t.lng)),s[e].open(l)}),p=[{location:new google.maps.LatLng(34.024209511091,-118.37224334356),stopover:!0},{location:new google.maps.LatLng(34.026715991954,-118.37210597861),stopover:!0},{location:new google.maps.LatLng(34.072129216705,-118.07242680984),stopover:!0},{location:new google.maps.LatLng(34.072364668923,-118.05290514579),stopover:!0},{location:new google.maps.LatLng(34.072442972067,-118.04969557553),stopover:!0},{location:new google.maps.LatLng(34.072468146184,-118.04860590445),stopover:!0},{location:new google.maps.LatLng(34.072644178382,-118.04818333975),stopover:!0},{location:new google.maps.LatLng(34.072645539774,-118.04464020238),stopover:!0}],t(i,r,c,u,p)},t=function(t,e,r,i,n){t.route({origin:r,destination:i,waypoints:n,avoidTolls:!0,avoidHighways:!1,travelMode:google.maps.TravelMode.DRIVING},function(t,r){r===google.maps.DirectionsStatus.OK?e.setDirections(t):window.alert("Directions request failed due to "+r)})},e()},i.prototype.initialize=function(){this.initMaps()},i}(BaseController)}.call(this),function(){"use strict";var t,e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.register("DashboardXxlScreen3Controller"),r.inject("$interval"),r.prototype.initialize=function(){this.camsList=["https://www.go511.com/map/Cctv/15819--1","https://www.go511.com/map/Cctv/15542--1","https://www.go511.com/map/Cctv/15803--1","https://www.go511.com/map/Cctv/15544--1","https://www.go511.com/map/Cctv/15809--1","https://www.go511.com/map/Cctv/15544--1","https://www.go511.com/map/Cctv/15865--1","https://www.go511.com/map/Cctv/15816--1","https://www.go511.com/map/Cctv/15815--1","https://www.go511.com/map/Cctv/15818--1","https://www.go511.com/map/Cctv/15800--1","https://www.go511.com/map/Cctv/15801--1","https://www.go511.com/map/Cctv/15817--1","https://www.go511.com/map/Cctv/15814--1","https://www.go511.com/map/Cctv/15804--1","https://www.go511.com/map/Cctv/15786--1","https://www.go511.com/map/Cctv/15839--1","https://www.go511.com/map/Cctv/15867--1","https://www.go511.com/map/Cctv/15792--1","https://www.go511.com/map/Cctv/7360--1","https://www.go511.com/map/Cctv/15806--1","https://www.go511.com/map/Cctv/15785--1","https://www.go511.com/map/Cctv/15826--1","https://www.go511.com/map/Cctv/15833--1","https://www.go511.com/map/Cctv/15811--1"]},r}(BaseController)}.call(this),function(){"use strict";var t,e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.register("DashboardXxlScreen2Controller"),r.inject("$interval"),r.prototype.initialize=function(){this.timeNow=new Date,this.$interval(function(t){return function(){return t.timeNow=new Date}}(this),1e3)},r}(BaseController)}.call(this),function(){"use strict";var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.getTexts=e(this.getTexts,this),this.slideMap=e(this.slideMap,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("DashboardXxlScreen1Controller"),i.inject("$interval","$timeout","$sce","Carousel","PredictionsModel"),i.prototype.timings={intervals:[1e4,3e4,2e4,3e4,15e3,15e3,15e3,15e3,15e3],cursor:0},i.prototype.response=null,i.prototype.texts=null,i.prototype.intervalId=null,i.prototype.slideMap=function(){return this.$timeout(function(t){return function(){return t.Carousel.get("maps-carousel").next(),t.slideMap()}}(this),this.timings.intervals[this.timings.cursor]),this.timings.cursor===this.timings.intervals.length-1?this.timings.cursor=0:this.timings.cursor+=1},i.prototype.getTexts=function(){return this.PredictionsModel.advisories().then(function(t){return function(e){return t.response=e,null===t.texts?(t.texts=t.response,t.response=null):void 0}}(this))},i.prototype.initialize=function(){this.stationBusSchedule=[],this.PredictionsModel.stationBus("44241").then(function(t){return function(e){t.stationBusSchedule=e}}(this)),this.$interval(function(t){return function(){return t.PredictionsModel.stationBus("44241").then(function(e){t.stationBusSchedule=e})}}(this),15e3),this.getTexts(),this.slideMap(),this.intervalId=this.$interval(function(t){return function(){return null!=t.texts&&(t.texts.shift(),0===t.texts.length&&t.getTexts()),t.$timeout(function(){return null!=t.response?(t.texts=t.response,t.response=null):void 0},1e3)}}(this),8e3)},i}(BaseController)}.call(this),function(){angular.module("app").config(["$stateProvider",function(t){"ngInject";t.state("dashboard-xxl",{"abstract":!0,url:"/xxl",template:"<ui-view/>",controllerAs:"$ctrl"}).state("dashboard-xxl.root",{url:"/",template:"<ui-view/>",controller:["$state",function(t){t.go("dashboard-xxl.all")}]}).state("dashboard-xxl.all",{url:"/all",templateUrl:"modules/dashboard-xxl/dashboard-xxl.all.html",controllerAs:"$ctrl",controller:["$state",function(t){return this.getScreenUrl=function(e){return t.href("dashboard-xxl.screen",{screenId:e})},this}]}).state("dashboard-xxl.screen",{url:"/{screenId}",controllerAs:"$ctrl",controllerProvider:["$stateParams","$controller",function(t,e){var r,i,n,o;o=t.screenId,i="DashboardXxlScreen"+o+"Controller",r=!0;try{e(i,{$scope:{}},!0)}catch(s){n=s,r=!1}return r?i:void 0}],templateUrl:function(t){return"modules/dashboard-xxl/dashboard-xxl.screen-"+t.screenId+".html"}})}])}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.railRegional=e(this.railRegional,this),this.railLocal=e(this.railLocal,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("PredictionsModel","service"),i.inject("$q","$http"),i.prototype.railLocal=function(t){var e;return e="http://107.170.192.182/app.php/api/stops/light-rails",this.$http.get(e).then(function(t){return function(t){var e,r;return r=[],null!=(e=t.data)&&e.some(function(t){var e,i;return t.direction||(t.direction={prediction:[]}),angular.isArray(t.direction.prediction)||(t.direction.prediction=[t.direction.prediction]),i={title:t.direction.title,route:t.direction.title,color:t.color,predictions:function(){var r,i,n,o;for(n=t.direction.prediction||[],o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push({timestamp:e.epochTime,minutes:e.minutes,seconds:e.seconds,text:+e.minutes?e.minutes+" min"+(+e.minutes>1?"s":""):"< 1 min"});return o}()},0===i.predictions.length&&(i.predictions=[{text:"Timing is not available"}]),r.push(i),!1}),1===r.length&&void 0===r[0]&&(r.length=0),r}}(this))},i.prototype.railRegional=function(t){var e;return e="http://107.170.192.182/app.php/api/stops/region-rails",this.$http.get(e).then(function(t){return function(t){var e,r;return r=[],null!=(e=t.data)&&e.some(function(t){var e;return e={id:t.id,route:t.title,color:t.color,icon:t.icon,predictions:t.scheduled_times.split(",").map(function(t){return{text:t||"Timing is not available"}})},r.push(e),!1}),1===r.length&&void 0===r[0]&&(r.length=0),r}}(this))},i.prototype.metroBus=function(t){var e;return e="http://107.170.192.182/app.php/api/stops/buses",this.$http.get(e).then(function(t){return function(t){var e,r;return t.data=t.data.filter(function(t){return t}),r=[],null!=(e=t.data)&&e.some(function(t){var e;return e={id:t.id,route:t.title,color:t.color,predictions:t.scheduled_times.split(",").map(function(t){return{text:t||"Timing is not available"}})},r.push(e),!1}),1===r.length&&void 0===r[0]&&(r.length=0),r}}(this))},i.prototype.bikeShare=function(t){var e;return e="http://107.170.192.182/app.php/api/stops/bike-share",this.$http.get(e).then(function(t){return _.map(t.data,function(t){return t.properties})})},i.prototype.twitter=function(t){var e;return e="http://107.170.192.182/app.php/api/tweets",this.$http.get(e).then(function(t){return t.data})},i.prototype.advisories=function(t){var e;return e="http://107.170.192.182/app.php/api/adviser",this.$http.get(e).then(function(t){return t.data})},i.prototype.metroAlerts=function(t){var e;return e="http://107.170.192.182/app.php/api/tweets/light-rails-alerts",this.$http.get(e).then(function(t){var e;return e=[],t.data.forEach(function(t){return function(t){return t.hasAlert?e.push(t):void 0}}(this)),e})},i.prototype.stationBus=function(t){var e;return e="http://socaltransport.org/tm/node_time_v2.php?format=json&node_id="+t,this.$http.get(e).then(function(t){var e;return e=t.data.node_time,e=_.chain(e).filter(function(t){return!!t}).map(function(t,e){var r;return t.scheduled_times=t.scheduled_times.split(","),t.predictions=function(){var e,i,n,o;for(n=t.scheduled_times,o=[],e=0,i=n.length;i>e;e++)r=n[e],o.push({text:r});return o}(),t}).groupBy(function(t){var e;return+(null!=(e=t.location)?e.split(" BAY ")[1]:void 0)}).reduce(function(t,e,r){return t[r]=e,t[r]=t[r].slice(0,5),t},{}).value()})},i}(BaseController)}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}var i,n;return e(r,t),r.register("WeatherWidgetController"),r.inject("$scope","$http"),i="56f22ed5d33c2e168edcd777ae2913ba",n="5368361",r.prototype.initialize=function(){this.loadWeatherData().then(function(t){return function(e){return t.weatherData={temp:e.main.temp,units:"°",weatherId:e.weather[0].id,description:e.weather[0].description}}}(this))},r.prototype.loadWeatherData=function(){return this.$http.get("http://api.openweathermap.org/data/2.5/weather",{params:{mode:"json",lang:"en",units:"imperial",appid:i,id:n}}).then(function(t){return t.data},function(t){return console.log("error",t)})},r}(BaseController),angular.module("app").component("weatherWidget",{templateUrl:"components/weather-widget/weather-widget.html",controller:"WeatherWidgetController",bindings:{cityId:"<"}})}.call(this),function(){angular.module("app").component("twitter",{templateUrl:"components/twitter/twitter.html",controller:"TwitterController as $ctrl"})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.refreshPredictions=e(this.refreshPredictions,this),this.scrollList=e(this.scrollList,this),this.toggleTwit=e(this.toggleTwit,this),this.initialize=e(this.initialize,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("TwitterController"),i.inject("$interval","moment","PredictionsModel","$timeout"),i.prototype.initialize=function(){this.predictions=[],this.intervalId=null,this.timeoutId=null,this.pendingAjax=!1,this.twitAppear=null,this.twitDisappear=null,this.refreshPredictions()},i.prototype.toggleTwit=function(t){return void 0===t?this.twitAppear=!0:(this.twitAppear=t,this.twitDisappear=!t)},i.prototype.scrollList=function(){return this.toggleTwit(),this.intervalId=this.$interval(function(t){return function(){return t.toggleTwit(!1),t.timeoutId=t.$timeout(function(){return t.prediction=t.predictions.shift()},1e3),t.timeoutId.then(function(){return setTimeout(function(){return t.toggleTwit(!0)},500),t.predictions.length<3?t.refreshPredictions():void 0})}}(this),12e3)},i.prototype.refreshPredictions=function(){var t;this.pendingAjax!==!0&&(this.pendingAjax=!0,t=this.PredictionsModel.twitter(),t.then(function(t){return function(e){return e.forEach(function(e){return t.predictions.push(e)}),null===t.intervalId?(t.prediction=t.predictions.shift(),t.scrollList()):void 0}}(this)),t["finally"](function(t){return function(){return t.pendingAjax=!1}}(this)))},i}(BaseController)}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.register("StationMapController"),r.inject("$interval","PredictionsModel"),r.prototype.mapsSettings={},r.prototype.initialize=function(){this.mapsSettings={1:{bays:[6,1],bg:this.getBgImageUrl(1)},2:{bays:[7,2],bg:this.getBgImageUrl(2)},3:{bays:[8,3],bg:this.getBgImageUrl(3)},4:{bays:[4,9],bg:this.getBgImageUrl(4)},5:{bays:[5],bg:this.getBgImageUrl(5)}}},r.prototype.getBgImageUrl=function(t){return"assets/images/station-map/map-"+t+".png"},r}(BaseController)}.call(this),function(){angular.module("app").component("stationMap",{templateUrl:"components/station-map/station-map.html",controller:"StationMapController as $ctrl",bindings:{mapIndex:"<",scheduleData:"="}})}.call(this),function(){angular.module("app").component("stationMapSchedule",{templateUrl:"components/station-map-schedule/station-map-schedule.html",transclude:{metroScheduleTitle:"?metroScheduleTitle",metroScheduleList:"?metroScheduleList"},bindings:{predictions:"<"}})}.call(this),function(){angular.module("app").factory("ScheduleService",["$q","$http",function(t,e){var r;return new(r=function(){function r(){this.loadRoutes().then(function(t){i=t})}var i;return i=[],r.prototype.loadRoutes=function(){var r;return r=t.defer(),e({method:"GET",url:"http://api.metro.net/agencies/lametro/routes/",cache:!0}).then(function(t){var e;return e={},t.data.items.some(function(t){return e[t.id]=t.display_name,!1}),r.resolve(e)}),r.promise},r.prototype.loadBusPredictions=function(){var r;return r=t.defer(),e({method:"GET",url:"http://api.metro.net/agencies/lametro/stops/30021/predictions/"}).then(function(t){return r.resolve(t.data.items)}),r.promise},r.prototype.getMetroBusSchedule=function(){return this.loadBusPredictions().then(function(t){var e;return e=[],e=_.chain(t).groupBy("route_id").map(function(t,e){return{route_id:e,route:i[e],times:_.map(t,"minutes"),color:"rgb(255, 165, 0)"}}).sortBy(function(t){return t.times[0]}).value()})},r}())}])}.call(this),function(){angular.module("app").component("metroSchedule",{templateUrl:"components/metro-schedule/metro-schedule.html",transclude:{metroScheduleTitle:"?metroScheduleTitle",metroScheduleList:"?metroScheduleList"},bindings:{predictions:"<"}})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.refreshPredictions=e(this.refreshPredictions,this),this.scrollList=e(this.scrollList,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("MetroScheduleRailRegionalController"),i.inject("$interval","moment","PredictionsModel","$timeout"),i.prototype.initialize=function(){this.predictions=[],this.intervalId=null,this.timeoutId=null,this.response=null,this.refreshPredictions(),this.$interval(this.refreshPredictions,3e4)},i.prototype.scrollList=function(){return this.intervalId=this.$interval(function(t){return function(){var e;return e=t.predictions.shift(),t.timeoutId=t.$timeout(function(){return t.predictions.push(e)},1e3),t.timeoutId.then(function(){return t.response?(t.response.forEach(function(e){return t.predictions.forEach(function(t){return t.id===e.id?t.predictions=e.predictions:void 0})}),t.response=null):void 0})}}(this),8e3)},i.prototype.refreshPredictions=function(){this.PredictionsModel.railRegional("080214").then(function(t){return function(e){return t.response=e,null===t.intervalId?(t.predictions=t.response,t.response=null,t.scrollList()):void 0}}(this))},i}(BaseController)}.call(this),function(){angular.module("app").component("metroScheduleRailRegional",{templateUrl:"components/metro-schedule-rail-regional/metro-schedule-rail-regional.html",controller:"MetroScheduleRailRegionalController as $ctrl"})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.refreshPredictions=e(this.refreshPredictions,this),this.scrollList=e(this.scrollList,this),this.displayAlerts=e(this.displayAlerts,this),this.initialize=e(this.initialize,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("MetroScheduleRailLocalController"),i.inject("$interval","moment","PredictionsModel","$timeout","$scope"),i.prototype.initialize=function(){this.showAlerts=!1,this.predictions=[],this.intervalId=null,this.timeoutId=null,this.response=null,this.$scope.$on("metro-alerts-fetched",function(t){return function(){return t.$scope.$root.$broadcast("scroll-metro-alerts"),t.showAlerts=!0}}(this)),this.$scope.$on("metro-alerts-scrolled",function(t){return function(){return t.showAlerts=!1,t.displayAlerts()}}(this)),this.$scope.$on("metro-alerts-not-fetched",function(t){return function(){return t.displayAlerts()}}(this)),this.refreshPredictions(),this.$interval(this.refreshPredictions,3e4),this.displayAlerts()},i.prototype.displayAlerts=function(){return this.$timeout(function(t){return function(){return t.$scope.$root.$broadcast("fetch-metro-alerts")}}(this),6e4)},i.prototype.scrollList=function(){return this.intervalId=this.$interval(function(t){return function(){var e;return e=t.predictions.shift(),t.timeoutId=t.$timeout(function(){return e?t.predictions.push(e):void 0},1e3),t.timeoutId.then(function(){return t.response?(t.response.forEach(function(e){return t.predictions.forEach(function(t){return t.title===e.title?(t.predictions=e.predictions,t.$updated=e.$updated=!0):void 0})}),t.predictions.forEach(function(e,r){return null==e.$updated?t.predictions.splice(r,1):delete e.$updated}),t.response.forEach(function(e){return null==e.$updated?t.predictions.push(e):void 0}),t.response=null):void 0})}}(this),8e3)},i.prototype.refreshPredictions=function(){this.PredictionsModel.railLocal("080214").then(function(t){return function(e){return t.response=e,null===t.intervalId?(t.predictions=t.response,t.response=null,t.scrollList()):void 0}}(this))},i}(BaseController)}.call(this),function(){angular.module("app").component("metroScheduleRailLocal",{templateUrl:"components/metro-schedule-rail-local/metro-schedule-rail-local.html",controller:"MetroScheduleRailLocalController as $ctrl"})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.refreshPredictions=e(this.refreshPredictions,this),this.scrollList=e(this.scrollList,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("MetroScheduleBusController"),i.inject("$interval","moment","PredictionsModel","$timeout"),i.prototype.initialize=function(){this.predictions=[],this.intervalId=null,this.timeoutId=null,this.response=null,this.refreshPredictions(),this.$interval(this.refreshPredictions,3e4)},i.prototype.scrollList=function(){return this.intervalId=this.$interval(function(t){return function(){var e;return e=t.predictions.shift(),t.timeoutId=t.$timeout(function(){return t.predictions.push(e)},1e3),t.timeoutId.then(function(){return t.response?(t.response.forEach(function(e){return t.predictions.forEach(function(t){return t.id===e.id?t.predictions=e.predictions:void 0})}),t.response=null):void 0})}}(this),8e3)},i.prototype.refreshPredictions=function(){this.PredictionsModel.metroBus("080214").then(function(t){return function(e){return t.response=e,null===t.intervalId?(t.predictions=t.response,t.response=null,t.scrollList()):void 0}}(this))},i}(BaseController)}.call(this),function(){angular.module("app").component("metroScheduleBus",{templateUrl:"components/metro-schedule-bus/metro-schedule-bus.html",controller:"MetroScheduleBusController as $ctrl"})}.call(this),function(){angular.module("app").component("metroSchedule2",{templateUrl:"components/metro-schedule-2/metro-schedule-2.html",transclude:{metroScheduleTitle:"?metroScheduleTitle",metroScheduleList:"?metroScheduleList"},bindings:{predictions:"<"}})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.fetchAlerts=e(this.fetchAlerts,this),this.scrollList=e(this.scrollList,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("MetroRailAlertsController"),i.inject("$interval","moment","PredictionsModel","$timeout","$scope"),i.prototype.initialize=function(){this.alerts=[],this.intervalId=null,this.$scope.$on("fetch-metro-alerts",function(t){return function(){return t.fetchAlerts()}}(this)),this.$scope.$on("scroll-metro-alerts",function(t){return function(){return t.scrollList()}}(this))},i.prototype.scrollList=function(){return this.intervalId=this.$interval(function(t){return function(){return t.alerts.shift(),0===t.alerts.length?(t.$scope.$root.$broadcast("metro-alerts-scrolled"),t.$interval.cancel(t.intervalId)):void 0}}(this),5e3)},i.prototype.fetchAlerts=function(){this.PredictionsModel.metroAlerts().then(function(t){return function(e){return e.length>0?(t.alerts=e,t.$scope.$root.$broadcast("metro-alerts-fetched")):t.$scope.$root.$broadcast("metro-alerts-not-fetched")}}(this),function(t){return function(){return t.$scope.$root.$broadcast("metro-alerts-not-fetched")}}(this))},i}(BaseController)}.call(this),function(){angular.module("app").component("metroRailAlerts",{templateUrl:"components/metro-rail-alerts/metro-rail-alerts.html",controller:"MetroRailAlertsController as $ctrl"})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.initialize=e(this.initialize,this),this.getTexts=e(this.getTexts,this),this.slideMap=e(this.slideMap,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("MetroMapController"),i.inject("$interval","$sce","Carousel","PredictionsModel","$timeout"),i.prototype.maps=["assets/frames/diagram.html","https://go511.com/Map/EmbeddedMap?bgColour=ffffff&center=34.06,-118.21&zoom=10&layers=trafficSpeed,incident,sigalert,construction,closures&showAlert=true&showLegend=false&showMapControls=false","assets/frames/map.html","https://go511.com/Map/EmbeddedMap?bgColour=ffffff&center=34.06,-118.21&zoom=13&layers=trafficSpeed,incident,sigalert,construction,closures&showAlert=true&showLegend=false&showMapControls=false","assets/frames/video.html"],i.prototype.timings={intervals:[1e4,3e4,2e4,3e4,75e3],cursor:0},i.prototype.response=null,i.prototype.texts=null,i.prototype.intervalId=null,i.prototype.slideMap=function(){return console.log("slide"),this.$timeout(function(t){return function(){return t.Carousel.get("maps-carousel").next(),t.slideMap()}}(this),this.timings.intervals[this.timings.cursor]),this.timings.cursor===this.timings.intervals.length-1?this.timings.cursor=0:this.timings.cursor+=1},i.prototype.getTexts=function(){return this.PredictionsModel.advisories().then(function(t){return function(e){return t.response=e,null===t.texts?(t.texts=t.response,t.response=null):void 0}}(this))},i.prototype.initialize=function(){this.getTexts(),this.map={index:this.timings.cursor,url:this.maps[this.timings.cursor]},this.slideMap(),this.intervalId=this.$interval(function(t){return function(){return null!=t.texts&&(t.texts.shift(),0===t.texts.length&&t.getTexts()),t.$timeout(function(){return null!=t.response?(t.texts=t.response,t.response=null):void 0},1e3)}}(this),8e3)},i}(BaseController)}.call(this),function(){angular.module("app").component("metroMap",{templateUrl:"components/metro-map/metro-map.html",controller:"MetroMapController as $ctrl"})}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.register("MetroCamsController"),r.inject("$interval","Carousel"),r.prototype.cams=[],r.prototype.refreshCams=function(t){_.isUndefined(t)?this.cams=this.data.map(function(t){return t+="?&nocache="+Date.now()}):this.cams[t]=this.data[t]+"?&nocache="+Date.now()},r.prototype.$onInit=function(){var t,e;return e=187500,t=e/(this.data.length||1e4),this.$interval(function(t){return function(){return t.refreshCams()}}(this),e),this.$interval(function(t){return function(){var e;return e=t.Carousel.get("metro-cams-carousel"),e.next(),t.refreshCams((e.currentSlide+2)%e.slidesCount)}}(this),t)},r.prototype.$onChanges=function(t){t.data&&this.refreshCams()},r}(BaseController)}.call(this),function(){angular.module("app").component("metroCams",{templateUrl:"components/metro-cams/metro-cams.html",controller:"MetroCamsController as $ctrl",bindings:{data:"<"}})}.call(this),function(){angular.module("app").component("metroAlert",{templateUrl:"components/metro-alert/metro-alert.html",transclude:{metroScheduleTitle:"?metroScheduleTitle",metroScheduleList:"?metroScheduleList"},bindings:{alerts:"<"}})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.scrollList=e(this.scrollList,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.register("BikeShareController"),i.inject("$interval","moment","PredictionsModel","$timeout"),i.prototype.initialize=function(){this.predictions=[],this.intervalId=null,this.timeoutId=null,this.response=null,this.refreshPredictions(),this.$interval(this.refreshPredictions,3e4)},i.prototype.scrollList=function(){return this.intervalId=this.$interval(function(t){return function(){var e;return e=t.predictions.shift(),t.timeoutId=t.$timeout(function(){return t.predictions.push(e)},2e3),t.timeoutId.then(function(){return t.response?(t.response.forEach(function(e){return t.predictions.forEach(function(t){return t.name===e.name?(t.bikesAvailable=e.bikesAvailable,t.docksAvailable=e.docksAvailable):void 0})}),t.response=null):void 0})}}(this),8e3)},i.prototype.refreshPredictions=function(){this.PredictionsModel.bikeShare().then(function(t){return function(e){return t.response=e,null===t.intervalId?(t.predictions=t.response,t.response=null,t.scrollList()):void 0}}(this))},i}(BaseController)}.call(this),function(){angular.module("app").component("bikeShare",{templateUrl:"components/bike-share/bike-share.html",controller:"BikeShareController as $ctrl"})}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.register("AppController"),r.inject("$rootScope","$interval"),r.prototype.initialize=function(){this.timeNow=new Date,this.$interval(function(t){return function(){return t.timeNow=new Date}}(this),1e3)},r;
}(BaseController)}.call(this),function(){angular.module("app").component("appLayout",{templateUrl:"components/app-layout/app-layout.html",controller:"AppController as $ctrlApp"})}.call(this),angular.module("app").run(["$templateCache",function(t){t.put("modules/dashboard-xxl/dashboard-xxl.all.html",'<div class="app-module dashboard-xxl"><table class="layout-3x3 ratio-16x9"><tr><td colspan="2" rowspan="2" class="map"><iframe src="{{ $ctrl.getScreenUrl(1) }}" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe></td><td><iframe src="{{ $ctrl.getScreenUrl(2) }}" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe></td></tr><tr><td><iframe src="{{ $ctrl.getScreenUrl(3) }}" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe></td></tr><tr><td><iframe src="{{ $ctrl.getScreenUrl(4) }}" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe></td><td><iframe src="{{ $ctrl.getScreenUrl(5) }}" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe></td><td><iframe src="{{ $ctrl.getScreenUrl(6) }}" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe></td></tr></table></div>'),t.put("modules/dashboard-xxl/dashboard-xxl.screen-1.html",'<div class="widget metro-map"><ng-carousel ng-carousel-name="maps-carousel" class="full"><slidecontainer class="carousel-slides"><slide><img src="assets/images/station-map/union_station_diag.jpg" class="full-w"></slide><slide><iframe src="https://go511.com/Map/EmbeddedMap?bgColour=ffffff&amp;center=34.06,-118.21&amp;zoom=10&amp;layers=trafficSpeed,incident,sigalert,construction,closures&amp;showAlert=true&amp;showLegend=false&amp;showMapControls=false" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen" class="map"></iframe></slide><slide><img src="assets/images/station-map/metrolink_amtrak_map.jpg" class="full-w"></slide><slide><iframe src="https://go511.com/Map/EmbeddedMap?bgColour=ffffff&amp;center=34.06,-118.21&amp;zoom=13&amp;layers=trafficSpeed,incident,sigalert,construction,closures&amp;showAlert=true&amp;showLegend=false&amp;showMapControls=false" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen" class="map"></iframe></slide><slide ng-repeat="mapIndex in [1, 2, 3, 4, 5] track by $index" class="station-map-container"><station-map map-index="mapIndex" schedule-data="$ctrl.stationBusSchedule"></station-map></slide></slidecontainer></ng-carousel><div class="alert-header"><img src="assets/images/logo-511.png" class="logo-511"><b>&nbsp;Advisories:&nbsp;</b><div class="alert-line"><ul><li ng-repeat="text in $ctrl.texts" class="slide-up">{{ text.Message }}</li></ul></div></div></div>'),t.put("modules/dashboard-xxl/dashboard-xxl.screen-2.html",'<div class="widget widget-cam"><div class="informers"><div class="items"><div class="item"><div class="description">{{ $ctrl.timeNow | amDateFormat:\'MMMM\' }}</div><div class="big">{{ $ctrl.timeNow | amDateFormat:\'DD\' }}</div></div><div class="delimiter"></div><div class="item"><div class="description">Time</div><div class="big">{{ $ctrl.timeNow | amDateFormat:\'h:mm\' }}</div></div><div class="delimiter"></div><div class="item"><weather-widget></weather-widget></div></div></div><hr noshade="noshade" size="1" class="info-delim"><twitter></twitter></div>'),t.put("modules/dashboard-xxl/dashboard-xxl.screen-3.html",'<div class="widget"><metro-cams data="$ctrl.camsList"></metro-cams></div>'),t.put("modules/dashboard-xxl/dashboard-xxl.screen-4.html",'<div class="layout-row bg-black"><metro-schedule-rail-local class="widget-schedule1 flex-1"></metro-schedule-rail-local><div class="delimiter btw-schedule"><div></div></div><metro-schedule-rail-regional class="widget-schedule1 flex-1"></metro-schedule-rail-regional><div class="delimiter btw-schedule"><div></div></div></div>'),t.put("modules/dashboard-xxl/dashboard-xxl.screen-5.html",'<div class="layout-row bg-black"><metro-schedule-bus class="widget-schedule1 flex-1"></metro-schedule-bus><div class="delimiter btw-schedule"><div></div></div><bike-share class="widget-schedule1 flex-1"></bike-share><div class="delimiter btw-schedule"><div></div></div></div>'),t.put("modules/dashboard-xxl/dashboard-xxl.screen-6.html",'<div style="text-align: center" class="widget metro-video"><h3 style="font-size: 2em" class="title">Take video wall info with you:</h3><img src="assets/images/qr.jpg" style="height: 75%"></div>'),t.put("modules/dashboard-xxl/dashboard-xxl.screen-7.html",'<div class="app-module dashboard-xxl-7"><div id="map-canvas" class="directions"></div></div>'),t.put("components/app-layout/app-layout.html",'<div ui-view="" class="main-wrapper"></div>'),t.put("components/bike-share/bike-share.html",'<metro-schedule-head><h3 class="title"><metro-schedule-title><img src="assets/images/bike.png" class="icon">Bike Share</metro-schedule-title></h3></metro-schedule-head><div class="schedule bike-share"><div ng-repeat="item in $ctrl.predictions" class="station slide-up"><div class="title">{{ item.name }}</div><div class="address">{{ item.addressStreet }}</div><div class="items"><div class="item"><div class="count">{{ +item.bikesAvailable }}</div>bikes</div><div class="delimiter"></div><div class="item"><div class="count">{{ +item.docksAvailable }}</div>docks</div></div></div></div>'),t.put("components/metro-alert/metro-alert.html",'<metro-schedule-head><h3 class="title">Metro Rail</h3><hr noshade="noshade" size="1"><h5 class="sub-title">Alerts</h5><hr noshade="noshade" size="1"></metro-schedule-head><div ng-transclude="metroScheduleList" class="metro-schedule-body"><ul class="list"><li ng-repeat="item in $ctrl.alerts" class="slide-up"><div class="layout-row"><div ng-style="{&quot;background-color&quot;: item.color}" class="list-marker">{{ item.label }}</div><div class="flex-1 list-info"><div class="route">{{ item.name }}</div><div style="font-size: 0.9em; line-height: 1.4em" class="time-container layout-row"><div class="flex-1 time"><div style="color: white">{{ item.alert }}</div></div></div></div></div><hr noshade="noshade" size="1" ng-class="{ \'br-dark-grey\': $even, \'br-dark-grey\': $odd }"></li></ul></div>'),t.put("components/metro-cams/metro-cams.html",'<div class="title"><img src="assets/images/cam.png" style="width: 4rem; margin: 0 4rem"></div><ng-carousel ng-carousel-name="metro-cams-carousel" class="full"><slidecontainer class="carousel-slides"><slide ng-repeat="cam in $ctrl.cams track by $index"><img ng-src="{{ cam }}" align="left"></slide></slidecontainer></ng-carousel>'),t.put("components/metro-map/metro-map.html",'<div class="alert-header"><img src="assets/images/logo-511.png" class="logo-511"><div class="alert-line"><b>Advisories:&nbsp;</b><ul style="margin: 0"><li ng-repeat="text in $ctrl.texts" class="slide-up">{{ text.Message }}</li></ul></div></div><div class="widget"><ng-carousel ng-carousel-name="maps-carousel" class="full"><slidecontainer class="carousel-slides"><slide ng-repeat="slide in $ctrl.maps track by $index"><iframe ng-src="{{ $ctrl.$sce.trustAsResourceUrl(slide) }}" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen" class="map"></iframe></slide></slidecontainer></ng-carousel></div>'),t.put("components/metro-rail-alerts/metro-rail-alerts.html",'<metro-alert alerts="$ctrl.alerts" class="flex-1 metro-rail"><metro-schedule-title><img src="assets/images/icon-rail-white.png" class="icon">Alerts</metro-schedule-title></metro-alert>'),t.put("components/metro-schedule/metro-schedule.html",'<metro-schedule-head><h3 ng-transclude="metroScheduleTitle" class="title">Schedule</h3><hr noshade="noshade" size="1"><h5 class="sub-title">Next Departures</h5><hr noshade="noshade" size="1"></metro-schedule-head><div ng-transclude="metroScheduleList" class="metro-schedule-body"><ul class="list"><li ng-repeat="item in $ctrl.predictions" class="slide-up"><div class="layout-row"><div ng-style="{&quot;background-color&quot;: item.color}" class="list-marker"></div><div class="flex-1 list-info"><div class="route">{{ item.route }}</div><div class="time-container"><div ng-repeat="p in item.predictions track by $index" ng-if="$index &lt; 3" ng-animate="\'animate\'" class="time">{{ p.text }}</div></div></div></div><hr noshade="noshade" size="1" ng-class="{ \'br-dark-grey\': $even, \'br-dark-grey\': $odd }"></li></ul></div>'),t.put("components/metro-schedule-2/metro-schedule-2.html",'<metro-schedule-head><h3 ng-transclude="metroScheduleTitle" class="title">Schedule</h3><hr noshade="noshade" size="1"><h5 class="sub-title">Next Departures</h5><hr noshade="noshade" size="1"></metro-schedule-head><div ng-transclude="metroScheduleList" class="metro-schedule-body"><ul class="list"><li ng-repeat="item in $ctrl.predictions" class="slide-up"><div class="layout-row"><div ng-class="{\'amtrak\': item.icon == \'amtrak\', \'metrolink\': item.icon == \'metrolink\'}" class="list-marker"></div><div class="flex-1 list-info"><div class="route">{{ item.route }}</div><div class="time-container"><div ng-repeat="p in item.predictions track by $index" ng-if="$index &lt; 3" ng-animate="\'animate\'" class="time">{{ p.text }}</div></div></div></div><hr noshade="noshade" size="1" ng-class="{ \'br-dark-grey\': $even, \'br-dark-grey\': $odd }"></li></ul></div>'),t.put("components/metro-schedule-bus/metro-schedule-bus.html",'<metro-schedule predictions="$ctrl.predictions" class="flex-1 metro-rail"><metro-schedule-title><img src="assets/images/bus.png" class="icon">Bus</metro-schedule-title></metro-schedule>'),t.put("components/metro-schedule-rail-local/metro-schedule-rail-local.html",'<metro-schedule predictions="$ctrl.predictions" ng-class="{\'not-display\': $ctrl.showAlerts}" class="flex-1 metro-rail"><metro-schedule-title><img src="assets/images/icon-rail-white.png" class="icon">Metro Rail</metro-schedule-title></metro-schedule><metro-rail-alerts ng-class="{\'display\': $ctrl.showAlerts}" class="widget-schedule1"></metro-rail-alerts>'),t.put("components/metro-schedule-rail-regional/metro-schedule-rail-regional.html",'<metro-schedule-2 predictions="$ctrl.predictions" class="flex-1 metro-rail"><metro-schedule-title><img src="assets/images/icon-metrolink-white.png" class="icon">MetroLink/Amtrak</metro-schedule-title></metro-schedule-2>'),t.put("components/schedule/schedule.html",'<div ng-transclude="scheduleHead"></div><div ng-transclude="scheduleList"><ul class="list"><li ng-repeat="item in $ctrl.data track by $index"><hr noshade="noshade" size="1"><div class="layout-row"><div ng-style="{color: item.color}" class="list-marker">⬤</div><div class="flex-1"><div class="route">{{ item.route }}</div><div class="time-container layout-row"><div ng-repeat="time in item.times track by $index" ng-if="$index &lt; 3" ng-animate="\'animate\'" class="flex-1 time"><div>{{ time ? time + \' mins\' : \'\' }}</div></div><div ng-if="item.times.length &lt; 3" class="flex-1 time"></div><div ng-if="item.times.length &lt; 2" class="flex-1 time"></div></div></div></div></li></ul></div>'),t.put("components/station-map/station-map.html",'<img ng-src="{{ $ctrl.mapsSettings[$ctrl.mapIndex].bg }}" class="background"><div ng-repeat="bay in $ctrl.mapsSettings[$ctrl.mapIndex].bays" class="schedule"><station-map-schedule predictions="$ctrl.scheduleData[bay]" sub-title-use-unused="true" class="flex-1 metro-rail"><metro-schedule-title><img src="assets/images/icon-bus-black.png" class="icon">Bus</metro-schedule-title></station-map-schedule></div>'),t.put("components/station-map-schedule/station-map-schedule.html",'<metro-schedule-head><div ng-transclude="metroScheduleTitle" class="title">Schedule</div><div class="sub-title">{{ $ctrl.predictions.length > 0 ? \'Next Departures\' : \'Unused\' }}</div></metro-schedule-head><div ng-transclude="metroScheduleList"><div class="list"><div ng-repeat="item in $ctrl.predictions track by $index" ng-if="$ctrl.predictions.length &gt; 0" class="row item"><div ng-if="item.color" ng-style="{color: item.color}" class="col s2 list-marker">⬤</div><div ng-class="{s10: item.color, s12: !item.color}" class="col"><div class="route-container marquee-title"><div class="route">{{ item.route }}</div></div><div class="time-container"><div ng-repeat="p in item.predictions track by $index" ng-if="$index &lt; 3" ng-animate="\'animate\'" class="time">{{ p.text }}</div></div></div></div></div></div>'),t.put("components/twitter/twitter.html",'<div class="twitter-container"><div class="twitter-logo"><img src="assets/images/bird.png"></div><div class="twitter-box"><div class="twitter-messages"><div ng-class="{\'fade-in\': $ctrl.twitAppear, \'fade-out\': $ctrl.twitDisappear}" class="message"><span>@{{$ctrl.prediction.user.name}} &nbsp; {{$ctrl.prediction.text}}</span><div class="picture"><img ng-src="{{ $ctrl.prediction.images.length &amp;&amp; $ctrl.prediction.images[0] || \'assets/images/transparent_100x100.gif\' }}"></div></div></div></div></div>'),t.put("components/weather-widget/weather-widget.html",'<div class="_col"><div class="description">{{ $ctrl.weatherData.description }}</div><div class="_row big"><i class="icon wi wi-owm-{{ $ctrl.weatherData.weatherId }}"></i><div class="temp">{{ $ctrl.weatherData.temp | number:0 }}{{ $ctrl.weatherData.units }}</div></div></div>')}]);